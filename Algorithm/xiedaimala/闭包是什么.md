---
    title:闭包到底是怎么肥四
---

###　闭包的作用
间接地访问一个变量

### 形态
```
-1、    function foo(){
-2、        var v = '变量';
-3、        function func(){
            console.log(v);
        }
        return func;
    }
    var f = foo();  // 将foo()函数内部返回的func函数(包括其作用域)传给f
    f();  // 调用函数
```

看看上面：
    对应闭包的作用：间接访问一个变量！！！
    对应闭包的作用：间接访问一个变量！！！
    对应闭包的作用：间接访问一个变量！！！
重要的事情说三遍。

其实讲起来,整个闭包(closure)由三个部分组成：

- 1、foo 函数
- 2、foo函数内部的v变量
- 3、foo函数内部的func函数

先用3秒钟思考一下我们的目的是什么？
3 -
2 - 
1 - 

就是要在foo函数之外(我们可以把它想像成一种结界)，访问到函数内部的 v 变量对不对 ,

那它是怎么做的呢？

分成两步:
- 1、在func函数(内部函数)接收v变量
- 2、像foo函数(结界之外)暴露出foo这个函数

## 为什么需要这样做
有时候有些看似高深的概念让菜鸟望尘莫及都是因为想不到应用场景,换句话说,代码写的少。
为什么会出现闭包呢? 因为在实际项目中,总会有某些变量是需要保证不被轻易修改的，如果都放在全局里面,

## 闭包有点像Java的什么
作为一个转向前端的Javaer,很多时候我都会吧前端很多东西跟Java做对比。
其实,闭包有点像Java中的实体类封装属性的意思(只是说好像))。
抛开语言层面不说,一个模块(Java里面叫类)都需要保证独立性(高内聚),也要保证模块之间的联系(耦合)，这样才会有调用关系，才能够联系起来。
所以，这一句
```
    var v = '变量'
```
有点像
```
    private String v = '变量'
```

，而func函数有点像 Java里面的 getter方法。
前者用v封装起来,后者将func函数暴露出来，让它称为一个外界可以访问到v变量的接口


